<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSON Data Display</title>
  <style>
    table {
      width: 100%;
      max-width: 800px;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
      white-space: normal;
      word-break: break-all;
      overflow-wrap: break-word;
    }
    th {
      background-color: #f2f2f2;
    }
    td:nth-child(1),
    th:nth-child(1) {
      width: 20%;
    }
    td:nth-child(2),
    th:nth-child(2) {
      width: 30%;
    }
    td:nth-child(3),
    th:nth-child(3) {
      width: 30%;
    }
    td:nth-child(4),
    th:nth-child(4) {
      width: 15%;
    }
    td:nth-child(5),
    th:nth-child(5) {
      width: 5%;
    }
    .url-cell {
      overflow: hidden;
      text-overflow: ellipsis;
      max-height: 1.5em; /* セルの高さを1.5emに制限 */
    }
    .url-cell a {
      display: block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <h1>JSON Data Display</h1>
  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>URL</th>
        <th>Category</th>
        <th>Kind</th>
      </tr>
    </thead>
    <tbody id="dataBody"></tbody>
  </table>

  <script>
    function fetchData() {
      fetch('iroiro.json')
        .then(response => response.json())
        .then(data => {
          const dataBody = document.getElementById('dataBody');
          for (const key in data) {
            if (Object.hasOwnProperty.call(data, key)) {
              const item = data[key];
              const row = document.createElement('tr');
              const title = document.createElement('td');
              title.textContent = item.title;
              const description = document.createElement('td');
              description.textContent = item.description;
              const url = document.createElement('td');
              const link = document.createElement('a');
              link.href = item.url;
              link.textContent = item.url;
              link.target = '_blank';
              link.rel = 'external noreferrer';
              link.classList.add('url-cell');
              url.appendChild(link);
              const category = document.createElement('td');
              category.textContent = item.category;
              const kind = document.createElement('td');
              kind.textContent = item.kind ?? '';
              row.appendChild(title);
              row.appendChild(description);
              row.appendChild(url);
              row.appendChild(category);
              row.appendChild(kind);
              dataBody.appendChild(row);
            }
          }
        })
        .catch(error => console.error('Error fetching data:', error));
    }

    window.onload = fetchData;
  </script>
</body>
</html>